package com.welgram.crawler.general;

import static org.junit.Assert.assertTrue;

import com.google.gson.JsonObject;
import com.google.gson.JsonParser;
import com.welgram.common.HttpClientUtil;
import com.welgram.crawler.common.DateUtilTest;

import org.junit.Test;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class ProductMasterApiTest {

	public final static Logger logger = LoggerFactory.getLogger(ProductMasterApiTest.class);

	/**
	 * ProductMasterApiTest
	 */
	@Test
	public void testExecute() {
		
		boolean result = false ;
		
		try {
			//String jsonData = "{\"productId\":\"SLI00029\",\"productName\":\"삼성생명 인터넷암보험\",\"productMaster\":[{\"companyId\":1,\"productName\":\"주보험(순수보장형)\",\"insTerms\":[\"10년\"],\"napTerms\":[\"10년납\"],\"assureMoneys\":[\"500만원\",\"2500만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"2,500만원\",\"productId\":\"SLI00029\"},{\"companyId\":1,\"productName\":\"고액치료비암진단특약(갱신형,무배당)\",\"insTerms\":[\"10년\"],\"napTerms\":[\"10년납\"],\"assureMoneys\":[\"500만원\",\"3000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"3,000만원\",\"productId\":\"SLI00029\"},{\"companyId\":1,\"productName\":\"재진단암보장특약(갱신형,무배당)\",\"insTerms\":[\"10년\"],\"napTerms\":[\"10년납\"],\"assureMoneys\":[\"500만원\",\"1500만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,500만원\",\"productId\":\"SLI00029\"},{\"companyId\":1,\"productName\":\"암사망특약(갱신형,무배당)\",\"insTerms\":[\"10년\"],\"napTerms\":[\"10년납\"],\"assureMoneys\":[\"1000만원\",\"9000만원\"],\"minAssureMoney\":\"1,000만원\",\"maxAssureMoney\":\"9,000만원\",\"productId\":\"SLI00029\"}]}";
			
			// 새로 등록하는 경우
			String jsonData = "{\"productId\":\"SLI00260\",\"productName\":\"New올인원 암보험 처음부터 끝까지\",\"productMaster\":[{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"주보험 1종(순수보장형)\",\"productGubuns\":\"주계약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"소액질병보장특약ⅣN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"2000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"2,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"암사망특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"1000만원\",\"20000만원\"],\"minAssureMoney\":\"1,000만원\",\"maxAssureMoney\":\"20,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"무사고고객추가보장특약Ⅲ(무배당) 1종\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"1년\"],\"napTerms\":[\"1년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"전립선암진단추가보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"불가\"],\"napTerms\":[\"불가\"],\"assureMoneys\":[\"500만원\",\"3500만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"3,500만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"고액치료비암진단특약ⅡN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"재진단암보장특약D15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"3000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"3,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"신암직접치료(요양병원제외)입원특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"암직접치료(요양병원제외)입원특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"요양병원 암입원특약N(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"3년\"],\"napTerms\":[\"3년납\"],\"assureMoneys\":[\"1000만원\",\"1000만원\"],\"minAssureMoney\":\"1,000만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"암직접치료통원특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"항암방사선·약물치료특약ⅡN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"뇌출혈진단특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"급성심근경색증진단특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"급성뇌경색증진단특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"3000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"3,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"암한방건강보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"뇌출혈한방건강보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"급성심근경색증한방건강보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"정기특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"15000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"15,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"암수술보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"당뇨병(당화혈색소6.5%이상)진단특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"2000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"2,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"당뇨플러스암진단특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"5000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"5,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"질병·재해수술보장특약ⅡN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"신수술보장특약N(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"3년\"],\"napTerms\":[\"3년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"특정뇌졸중진단특약ⅡN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"2000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"2,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"뇌혈관질환수술보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"3000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"3,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"특정허혈심장질환진단특약ⅡN15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"2000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"2,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"허혈심장질환수술보장특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"1000만원\",\"3000만원\"],\"minAssureMoney\":\"1,000만원\",\"maxAssureMoney\":\"3,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"항암가발비용지원특약D(무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"유방절제·재건수술보장특약N(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"3년\"],\"napTerms\":[\"3년납\"],\"assureMoneys\":[\"1000만원\",\"1000만원\"],\"minAssureMoney\":\"1,000만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"},{\"companyId\":1,\"saleChannel\":\"CD00071\",\"productName\":\"건강관리자금특약N15(갱신형,무배당)\",\"productGubuns\":\"선택특약\",\"productKinds\":[\"순수보장형\",\"만기환급형\"],\"productTypes\":[\"갱신형\",\"비갱신형\"],\"insTerms\":[\"15년\"],\"napTerms\":[\"15년납\"],\"assureMoneys\":[\"500만원\",\"1000만원\"],\"minAssureMoney\":\"500만원\",\"maxAssureMoney\":\"1,000만원\",\"productId\":\"SLI00260\"}]}";
			
			logger.debug(jsonData);

			JsonObject data = JsonParser.parseString(jsonData).getAsJsonObject();
			
			String sendData = data.toString();
			logger.debug(sendData);
			
			String productId = data.get("productId").getAsString();

			JsonObject resultJson = HttpClientUtil.sendPUT("http://localhost:8080"+"/api/updateProductMaster/productId/"+productId, sendData);
			
			logger.debug("resultJson :: " + resultJson.toString());
			result = true;
			
		} catch(Exception e) {
			e.printStackTrace();
		}
		
		assertTrue(result);
	}
}
